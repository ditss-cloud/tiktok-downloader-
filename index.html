<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Download video TikTok tanpa watermark, cepat, gratis, dan tanpa iklan. TikTok Downloader terbaik untuk menyimpan video TikTok dalam kualitas HD.">
  <meta name="keywords" content="tiktok downloader, download tiktok tanpa watermark, tiktok video downloader, save tiktok, download video tiktok gratis">
  <meta name="author" content="Ditss TikTok Downloader">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tiktok-ditss.vercel.app">
  <meta property="og:title" content="TikTok Downloader - Download Video TikTok Tanpa Iklan">
  <meta property="og:description" content="Unduh video TikTok gratis tanpa watermark dan tanpa iklan. Simpan video TikTok favorit Anda dengan cepat dan mudah.">
  <meta property="og:image" content="https://raw.githubusercontent.com/media-clouds/upload/id/447920601019/mc047hg8.jpg">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://tiktok-ditss.vercel.app">
  <meta property="twitter:title" content="TikTok Downloader - Video Only, No Ads">
  <meta property="twitter:description" content="Download video TikTok tanpa watermark, tanpa iklan, gratis, dan kualitas HD.">
  <meta property="twitter:image" content="https://raw.githubusercontent.com/media-clouds/upload/id/447920601019/mc047hg8.jpg">
  <link rel="icon" href="https://raw.githubusercontent.com/media-clouds/upload/id/447920601019/mc047hg8.jpg" type="image/png">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"> 
  <title id="page">TikTok Downloader - Video Only, No Ads</title>  
  <style>
    :root {
      --primary: #ff0050;
      --secondary: #23272f;
      --card-bg: #22262e;
      --input-bg: #2c313a;
      --border-radius: 14px;
      --green: #28a745;
      --blue: #007bff;
      --purple: #6f42c1;
      --dl-shadow: 0 4px 18px #28a74540;
    }
    body {
      background: var(--secondary);
      color: #f2f2f2;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .container {
      max-width: 420px;
      margin: 40px auto 0 auto;
      background: var(--card-bg);
      padding: 24px 18px 20px 18px;
      border-radius: var(--border-radius);
      box-shadow: 0 8px 24px rgba(0,0,0,0.18);
      position: relative;
      z-index: 5;
    }
    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 14px;
    }
    .logo-img {
      width: 38px;
      height: 38px;
      border-radius: 9px;
      margin-right: 10px;
      background: #fff;
      box-shadow: 0 0 4px #ff005088;
    }
    h2 {
      font-size: 1.55em;
      font-weight: 700;
      text-align: center;
      margin: 8px 0 15px 0;
      letter-spacing: 1px;
    }
    input[type="text"] {
      background: var(--input-bg);
      color: #fff;
      border: 1px solid #333a;
      padding: 12px;
      border-radius: var(--border-radius);
      font-size: 1em;
      margin-bottom: 8px;
      width: 100%;
      box-sizing: border-box;
      outline: none;
      transition: border 0.2s;
    }
    input[type="text"]:focus {
      border: 1.7px solid var(--primary);
    }
    button {
      border: none;
      border-radius: var(--border-radius);
      padding: 12px;
      width: 100%;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 7px;
      box-shadow: 0 2px 8px #ff005030;
      transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 9px;
    }
    button:active {
      transform: scale(0.98);
    }
    button.download-btn {
      background: var(--green);
      color: #fff;
      box-shadow: var(--dl-shadow);
      position: relative;
      overflow: hidden;
    }
    button.download-btn:hover {
      background: #218838;
      animation: bounce 0.33s;
    }
    @keyframes bounce {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.06); }
      70%  { transform: scale(0.97); }
      100% { transform: scale(1); }
    }
    button.download-hd {
      background: var(--blue);
      box-shadow: 0 4px 18px #007bff40;
    }
    button.download-hd:hover {
      background: #0056b3;
    }
    button.download-mp3 {
      background: var(--purple);
      box-shadow: 0 4px 18px #6f42c140;
    }
    button.download-mp3:hover {
      background: #5a348b;
    }
    .clear-btn {
      background: #2d323c;
      color: #fff;
      margin-bottom: 16px;
      border: 1px solid #444a;
      display: none;
      animation: fadein 0.7s;
    }
    .clear-btn:hover {
      background: #383d47;
    }
    .loading, .error {
      text-align: center;
      font-size: 1.05em;
      margin: 8px 0;
      display: none;
      animation: fadein 0.7s;
    }
    .loading { color: #ffa; }
    .error { color: #f88; }
    @keyframes fadein {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    .preview {
      margin-top: 16px;
      text-align: center;
      animation: fadein 0.7s;
    }
    .preview img.cover {
      width: 170px;
      border-radius: 13px;
      box-shadow: 0 2px 15px #0002;
      margin-bottom: 7px;
      background: #fff;
    }
    .avatar {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      border: 2px solid #fff6;
      margin-bottom: 5px;
      box-shadow: 0 0 8px #0002;
    }
    .info-table {
      margin: 14px auto 0 auto;
      text-align: left;
      width: 100%;
      max-width: 340px;
      border-collapse: collapse;
      font-size: 0.98em;
      background: #262a34;
      border-radius: 7px;
      overflow: hidden;
    }
    .info-table td {
      padding: 7px 9px;
      border-bottom: 1px solid #222;
    }
    .info-table td.label {
      color: #aaa;
      width: 115px;
      font-weight: 400;
      letter-spacing: 0.1px;
    }
    .info-table td.value {
      font-weight: 600;
      color: #fff;
    }
    .download-links {
      margin-top: 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .footer {
      margin-top: 40px;
      background: #16171c;
      color: #ccc;
      text-align: center;
      padding: 18px 5vw 24px 5vw;
      font-size: 0.96em;
      border-top: 1px solid #222;
      flex-shrink: 0;
      box-shadow: 0 -2px 18px #0004;
    }
    .sosmed {
      margin: 10px 0 0 0;
    }
    .sosmed a {
      display: inline-block;
      margin: 0 8px;
      color: #fff;
      font-size: 1.33em;
      transition: color 0.18s;
    }
    .sosmed a:hover {
      color: var(--primary);
      text-shadow: 0 2px 10px #ff005048;
    }
    .contact {
      margin: 10px 0 0 0;
      font-size: 1.07em;
      color: #f2f2f2;
    }
    .contact a {
      color: #ff0050;
      text-decoration: none;
      font-weight: 500;
    }
    .contact a:hover {
      text-decoration: underline;
      color: #fff;
    }
    .copyright {
      margin-top: 13px;
      font-size: 0.9em;
      color: #888;
    }
    @media (max-width: 480px) {
      .container { max-width: 98vw; margin: 10px auto; padding: 16px 4vw 16px 4vw; }
      .logo-img { width: 33px; height: 33px;}
      h2 { font-size: 1.19em; }
      .info-table { font-size: 0.92em; }
      .preview img.cover { width: 96vw; max-width: 180px; }
    }
    /* SVG animation */
    .download-svg {
      width: 21px;
      height: 21px;
      vertical-align: middle;
      margin-right: 5px;
      animation: dlwave 1.4s infinite linear;
    }
    @keyframes dlwave {
      0% { transform: translateY(0);}
      7% { transform: translateY(3px);}
      14% { transform: translateY(-2px);}
      20% { transform: translateY(6px);}
      24% { transform: translateY(-2px);}
      30% { transform: translateY(0);}
      100% { transform: translateY(0);}
    }
    /* Share style */
    #shareBtn {
      background: var(--primary);
      color: #fff;
      box-shadow: 0 4px 18px #ff005040;
    }
    #shareBtn:hover {
      background: #c2003a;
    }
    #socialShare {
      display: none;
      margin-top: 8px;
      gap: 8px;
      justify-content: center;
    }
    #socialShare a {
      text-decoration: none;
      margin: 0 8px;
      transition: transform 0.14s;
    }
    #socialShare a:hover {
      transform: scale(1.15);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/3046/3046122.png" class="logo-img" alt="Logo TikTok Downloader">
      <h2>TikTok Downloader Pro</h2>
    </div>
    <input type="text" id="tiktokUrl" placeholder="Masukkan URL TikTok">
    <button onclick="getVideo()">
      <svg class="download-svg" viewBox="0 0 24 24" fill="none">
        <path d="M12 3v12m0 0l-6-6m6 6l6-6" stroke="#fff" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/>
        <rect x="3" y="17" width="18" height="4" rx="2" fill="#fff" opacity=".15"/>
      </svg>
      Download Data
    </button>
    <button class="clear-btn" id="clearBtn" onclick="clearForm()">
      <i class="fa-solid fa-xmark"></i> Clear
    </button>
    <div id="loading" class="loading">Memproses...</div>
    <div id="error" class="error"></div>

    <div id="result" class="preview" style="display: none;">
      <img id="cover" class="cover" src="" alt="Cover">
      <div>
        <img id="avatar" class="avatar" src="" alt="Avatar">
      </div>
      <h3 id="title"></h3>
      <table class="info-table">
        <tr>
          <td class="label">Akun</td>
          <td class="value" id="author"></td>
        </tr>
        <tr>
          <td class="label">Username</td>
          <td class="value" id="username"></td>
        </tr>
        <tr>
          <td class="label">Upload</td>
          <td class="value" id="uploadDate"></td>
        </tr>
        <tr>
          <td class="label">Durasi</td>
          <td class="value" id="duration"></td>
        </tr>
        <tr>
          <td class="label">Like</td>
          <td class="value" id="like"></td>
        </tr>
        <tr>
          <td class="label">Komentar</td>
          <td class="value" id="comment"></td>
        </tr>
        <tr>
          <td class="label">Share</td>
          <td class="value" id="share"></td>
        </tr>
        <tr>
          <td class="label">View</td>
          <td class="value" id="play"></td>
        </tr>
      </table>
      <div class="download-links">
        <button class="download-btn" id="downloadNoWm" onclick="downloadVideo('noWm')">
          <svg class="download-svg" viewBox="0 0 24 24" fill="none">
            <path d="M12 3v12m0 0l-6-6m6 6l6-6" stroke="#fff" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="3" y="17" width="18" height="4" rx="2" fill="#fff" opacity=".15"/>
          </svg>
          Download Video (No Watermark)
        </button>
        <button class="download-hd" id="downloadHd" onclick="downloadVideo('hd')">
          <svg class="download-svg" viewBox="0 0 24 24" fill="none">
            <path d="M12 3v12m0 0l-6-6m6 6l6-6" stroke="#fff" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="3" y="17" width="18" height="4" rx="2" fill="#fff" opacity=".15"/>
          </svg>
          Download Video (HD)
        </button>
        <button class="download-mp3" id="downloadMp3" onclick="downloadVideo('mp3')">
          <svg class="download-svg" viewBox="0 0 24 24" fill="none">
            <path d="M12 3v12m0 0l-6-6m6 6l6-6" stroke="#fff" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/>
            <rect x="3" y="17" width="18" height="4" rx="2" fill="#fff" opacity=".15"/>
          </svg>
          Download MP3 (Audio Only)
        </button>
        <!-- Tombol Share -->
        <button id="shareBtn" onclick="shareVideo()">
          <i class="fa-solid fa-share-nodes"></i> Share Video
        </button>
        <div id="socialShare">
          <a id="waShare" href="#" target="_blank" title="Bagikan ke WhatsApp">
            <i class="fab fa-whatsapp" style="font-size:1.4em;color:#25D366"></i>
          </a>
          <a id="tgShare" href="#" target="_blank" title="Bagikan ke Telegram">
            <i class="fab fa-telegram" style="font-size:1.4em;color:#0088cc"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="footer">
    <div class="sosmed">
      <a href="https://instagram.com/dits.v2" title="Instagram" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://wa.me/6281513607731" title="WhatsApp" target="_blank"><i class="fab fa-whatsapp"></i></a>
      <a href="https://t.me/paaditt" title="Telegram" target="_blank"><i class="fab fa-telegram"></i></a>
    </div>
    <div class="contact">
      Hubungi kami via <a href="mailto:ditss.cloud@gmail.com">Email</a> atau DM sosmed di atas.
    </div>
    <div class="copyright">
      &copy; 2025 TikTok Downloader Pro by ditss.cloud. All rights reserved.
    </div>
  </div>
  <script>
    function numFormat(num) {
      if (!num) return '0';
      return num.toLocaleString('id');
    }
    function formatDuration(sec) {
      if (!sec) return "0:00";
      const m = Math.floor(sec / 60);
      const s = sec % 60;
      return `${m}:${s.toString().padStart(2,"0")}`;
    }
    function formatDate(ts) {
      if (!ts) return "-";
      const d = new Date(ts * 1000);
      return d.toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric', hour: "2-digit", minute: "2-digit" });
    }

    // Hide clearBtn & share at start
    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById("clearBtn").style.display = "none";
      document.getElementById("socialShare").style.display = "none";
    });

    async function getVideo() {
      const url = document.getElementById("tiktokUrl").value.trim();
      const loading = document.getElementById("loading");
      const result = document.getElementById("result");
      const error = document.getElementById("error");
      if (!url) {
        error.textContent = "Masukkan URL TikTok dulu!";
        error.style.display = "block";
        loading.style.display = "none";
        return;
      }
      loading.textContent = "Memproses...";
      loading.style.display = "block";
      result.style.display = "none";
      error.style.display = "none";
      document.getElementById("socialShare").style.display = "none";
      const api = `https://api-ditss.vercel.app/download/tiktok-v2?apikey=free&url=${encodeURIComponent(url)}`;
      try {
        const res = await fetch(api);
        const json = await res.json();
        loading.style.display = "none";
        if (!json.status || !json.result?.data) {
          error.textContent = "Gagal ambil data! Cek URL TikTok atau coba lagi.";
          error.style.display = "block";
          return;
        }
        const data = json.result.data;
        document.getElementById("cover").src = data.cover;
        document.getElementById("cover").alt = data.id;
        document.getElementById("avatar").src = data.author?.avatar || "";
        document.getElementById("title").textContent = data.title || "Tanpa Judul";
        document.getElementById("author").textContent = data.author?.nickname || "-";
        document.getElementById("username").textContent = data.author?.unique_id || "-";
        document.getElementById("uploadDate").textContent = formatDate(data.create_time);
        document.getElementById("duration").textContent = formatDuration(data.duration);
        document.getElementById("like").textContent = numFormat(data.digg_count);
        document.getElementById("comment").textContent = numFormat(data.comment_count);
        document.getElementById("share").textContent = numFormat(data.share_count);
        document.getElementById("play").textContent = numFormat(data.play_count);

        document.getElementById("downloadNoWm").dataset.url = data.play;
        document.getElementById("downloadHd").dataset.url = data.hdplay;
        document.getElementById("downloadMp3").dataset.url = data.music_info?.play || "";
        result.style.display = "block";
        document.getElementById("clearBtn").style.display = "block";
        document.getElementById("socialShare").style.display = "none";
      } catch (err) {
        loading.style.display = "none";
        error.textContent = "Error: " + err.message;
        error.style.display = "block";
      }
    }

    // Download video/audio sebagai file
    async function downloadVideo(type) {
      let url = '';
      let fileName = 'tiktok-video.mp4';
      const cover = document.getElementById("cover");
      const tiktokId = cover ? cover.alt : "tiktok-video";
      if (type === 'noWm') {
        url = document.getElementById('downloadNoWm').dataset.url;
        fileName = tiktokId + '-video.mp4';
      } else if (type === 'hd') {
        url = document.getElementById('downloadHd').dataset.url;
        fileName = tiktokId + '-hd.mp4';
      } else if (type === 'mp3') {
        url = document.getElementById('downloadMp3').dataset.url;
        fileName = tiktokId + '-audio.mp3';
      }

      if (!url) {
        alert('Link tidak ditemukan!');
        return;
      }
      try {
        document.getElementById("loading").textContent = "Mengunduh...";
        document.getElementById("loading").style.display = "block";
        const res = await fetch(url);
        const blob = await res.blob();
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        setTimeout(() => {
          URL.revokeObjectURL(a.href);
          document.body.removeChild(a);
          document.getElementById("loading").style.display = "none";
        }, 1200);
      } catch (err) {
        document.getElementById("loading").style.display = "none";
        alert('Gagal download: ' + err.message);
      }
    }

async function shareVideo() {
  try {
    const url = document.getElementById('downloadNoWm').dataset.url;
    const title = document.getElementById("title").textContent || "Video TikTok";

    const res = await fetch(url);
    const blob = await res.blob();
    const file = new File([blob], "tiktok-video.mp4", { type: blob.type });

    if (navigator.canShare && navigator.canShare({ files: [file] })) {
      await navigator.share({
        title: title,
        text: "Cek video TikTok ini!",
        files: [file],
      });
    } else {
      alert("Browser kamu belum support share file video, fallback pakai link.");
      window.open(`https://wa.me/?text=${encodeURIComponent(title + "\n" + url)}`);
    }
  } catch (err) {
    alert("Gagal share video: " + err.message);
  }
}

  // Clear/reset form dan hasil
    function clearForm() {
      document.getElementById("tiktokUrl").value = "";
      document.getElementById("result").style.display = "none";
      document.getElementById("cover").src = "";
      document.getElementById("cover").alt = "";
      document.getElementById("avatar").src = "";
      document.getElementById("title").textContent = "";
      document.getElementById("author").textContent = "";
      document.getElementById("username").textContent = "";
      document.getElementById("uploadDate").textContent = "";
      document.getElementById("duration").textContent = "";
      document.getElementById("like").textContent = "";
      document.getElementById("comment").textContent = "";
      document.getElementById("share").textContent = "";
      document.getElementById("play").textContent = "";
      document.getElementById("downloadNoWm").dataset.url = "";
      document.getElementById("downloadHd").dataset.url = "";
      document.getElementById("downloadMp3").dataset.url = "";
      document.getElementById("loading").style.display = "none";
      document.getElementById("error").style.display = "none";
      document.getElementById("loading").textContent = "Memproses...";
      document.getElementById("clearBtn").style.display = "none";
      document.getElementById("socialShare").style.display = "none";
    }
  </script>
</body>
</html>
